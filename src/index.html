<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>HomeFit</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id" content="479698353423-37ho4krr1tdm2a9ssq2ovgi66mivv7if.apps.googleusercontent.com">
</head>
<body>
  <app-root>
    <div id="google_translate_element"></div>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE }, 'google_translate_element');
      }
      
      // Everything in this script below this line should happen after sign-up

      // creates a basic http request to the /events endpoint to open a connection
      var source = new EventSource('https://e.homefitdo.com/events');
      // listens for an event from the server (an sseRes.sseSEnd())
      source.onmessage = function(e) {
        console.log('i\'m connecting');
      };
      /** add an event listener for a workoutEvent use event.data or just destructure
       * and then JSON.parse it to get the object sent from the backend
      */ 
      source.addEventListener('workOutEvent', (event) => {
        console.log(event);
        const data = JSON.parse(event.data);
        window.data = data;
      }, false);
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  </app-root>
</body>
</html>
